<mxfile host="app.diagrams.net" modified="2022-08-28T13:46:28.167Z" agent="5.0 (X11)" etag="W1WduD9L9AAjGnB9FZIn" version="20.2.5" type="github">
  <diagram id="ELBJaecDyFUATaK4MYXZ" name="Page-1">
    <mxGraphModel dx="935" dy="650" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="dYzwd8fi6cYSQRCEDAko-31" value="" style="whiteSpace=wrap;html=1;fontSize=14;fillColor=#E6E6E6;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="740" y="121" width="20" height="469" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-30" value="" style="whiteSpace=wrap;html=1;fontSize=14;fillColor=#E6E6E6;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="561" y="119.28" width="20" height="470.72" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-28" value="" style="whiteSpace=wrap;html=1;fontSize=14;fillColor=#E6E6E6;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="371" y="120" width="20" height="470" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-14" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#505050;shape=mxgraph.azure.user" parent="1" vertex="1">
          <mxGeometry x="141" y="68" width="48.2" height="51.28" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-1" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.servers.active_directory_federation_services_server_blue;" parent="1" vertex="1">
          <mxGeometry x="552.5" y="70" width="47.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-10" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#505050;shape=mxgraph.mscae.enterprise.application_server" parent="1" vertex="1">
          <mxGeometry x="359.78999999999996" y="70.68" width="50.42" height="58.63" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-11" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#505050;shape=mxgraph.mscae.enterprise.client_application" parent="1" vertex="1">
          <mxGeometry x="181" y="84" width="78.13" height="50" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-12" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#505050;shape=mxgraph.mscae.enterprise.application_server2" parent="1" vertex="1">
          <mxGeometry x="730" y="70" width="51.6" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-18" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Resource Owner&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;(user)&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="146" y="30" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-19" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Client Application&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;(web app)&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="317" y="30" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-20" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Authentication Server&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;(ADFS)&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="488" y="30" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-21" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;Resource Server&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;(microservice)&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="681" y="30" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-22" value="" style="whiteSpace=wrap;html=1;fontSize=14;fillColor=#E6E6E6;strokeColor=none;" parent="1" vertex="1">
          <mxGeometry x="207" y="134" width="20" height="456" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-24" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="228" y="183" as="sourcePoint" />
            <mxPoint x="370" y="183" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-25" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="367" y="194" as="sourcePoint" />
            <mxPoint x="227" y="194" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-26" value="Unauthenticated request" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="222" y="162" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-27" value="Login link or redirection" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="225" y="198" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-32" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="225" y="262" as="sourcePoint" />
            <mxPoint x="557" y="262" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-33" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="560" y="306" as="sourcePoint" />
            <mxPoint x="230" y="306" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-34" value="&lt;div align=&quot;left&quot;&gt;&lt;b&gt;Begin ADFS OIDC login&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;GET /adfs/oauth2/authorize (client_id, redirect_uri, scope)&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontStyle=0" parent="1" vertex="1">
          <mxGeometry x="231" y="232" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-35" value="&lt;div align=&quot;left&quot;&gt;&lt;b&gt;ADFS user login&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;POST /login/oauth2/code/adfs&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="232" y="276" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-39" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="229" y="317" as="sourcePoint" />
            <mxPoint x="371" y="317" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-40" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="561" y="364" as="sourcePoint" />
            <mxPoint x="231" y="364" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-41" value="&lt;div&gt;&lt;b&gt;Auth Server provides code&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;GET /login/oauth2/code/adfs (code)&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="233" y="330" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-42" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="375" as="sourcePoint" />
            <mxPoint x="372" y="375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-43" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="398" y="425" as="sourcePoint" />
            <mxPoint x="560" y="425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-44" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="554" y="436" as="sourcePoint" />
            <mxPoint x="391" y="436" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-45" value="&lt;div&gt;&lt;b&gt;Exchange code for ID/Access Token&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;POST /adfs/oauth2/token (code)&lt;br&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="397.5" y="391" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-46" value="ID/Access Token JWT" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="397.5" y="434" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-47" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="398" y="497" as="sourcePoint" />
            <mxPoint x="560" y="497" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-48" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="554" y="508" as="sourcePoint" />
            <mxPoint x="391" y="508" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-49" value="&lt;div&gt;&lt;b&gt;Validate JWT signature&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;GET /adfs/discovery/keys&lt;br&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="399.5" y="469" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-50" value="crypto signature" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="399.5" y="512" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-51" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="227" y="573" as="sourcePoint" />
            <mxPoint x="740" y="573" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dYzwd8fi6cYSQRCEDAko-52" value="&lt;div align=&quot;left&quot;&gt;&lt;b&gt;Make calls to protected services&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Header &quot;Authentication: Bearer &amp;lt;jwtToken&amp;gt;&quot;&lt;br&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;fontStyle=0" parent="1" vertex="1">
          <mxGeometry x="233" y="543" width="250" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
